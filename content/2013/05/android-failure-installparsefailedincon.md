Title: [Android] Failure [INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES]の対応方法
Date: 2013-05-20 15:15:00
Category: 
Tags: Programming,Android
Slug: android-failure-installparsefailedincon

<p>Androidのアプリケーションを開発しているときに、昨日までは普通にIDE(IntelliJ/IDEA)からUSB接続した実機にアプリケーションをダウンロードして実行できていたのに、今日になって、できなくなってしまった。エラーとして、  <pre><br />Failure [INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES]<br /></pre> というのがIDEに表示されている。</p> <p>困ったので色々検索してみると、どうやらWindowsの場合、C:\Users\(ユーザ名)\.androidの下に、debug.keystoreというのが自動的に作成されるらしい。ここに、アプリケーションの署名に必要な証明書が格納されている。Androidでは、たとえデバッグであっても、アプリケーションは署名を付けないといけない。さらに、少なくとも次の場合は、一度インストールしたアプリケーションを再インストールしようとしても、上記メッセージが表示されて失敗する。</p> <ul><li>アプリケーションを異なる証明書で署名した。 <li>アプリケーションの署名に使用された証明書の期限が切れた。 </ul> <p>自動生成されるdebug.keystoreの証明書には有効期限があり、デフォルトの有効期間は1年間であるようだ。自分の場合、上記の2番目の原因でエラーが発生していた。</p> <p>いろいろ対処法があるらしいが、とりあえず怠惰なプログラマとしては、もっとも楽な方法を使用した：インストールしたアプリケーションを一度アンインストールし、再度(<b>削除後に再生成されたdebug.keystoreで署名して</b>)インストールする。</p> <p>ただ、この方法の欠点は、アプリケーションで作成されていたデータもすべて削除されてしまうことである。それが許容できれば、とりあえず一番簡単な対処法であると思う。いずれにせよ、リリースするときには正式に署名を付けるので、自分の場合は、ひとまず良しとした。</p>
